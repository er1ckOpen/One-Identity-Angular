<mat-spinner *ngIf="busy"></mat-spinner>

<ng-container *ngIf="!busy">
  <div class="imx-flex-container-100">
    <h2 class="mat-headline-5" translate>#LDS#Heading Caches</h2>

    <table class="plugin-table" data-imx-identifier="admin-status-cache">
      <thead>
        <tr>
          <td>{{ '#LDS#Name' | translate }}</td>
          <td>{{ '#LDS#Cached items' | translate }}</td>
          <td>{{ '#LDS#Cache hits' | translate }}</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let d of cacheKeys">
          <td>
            {{ d }}
          </td>
          <td>
            {{ cacheData[d].ObjectCount }}
          </td>
          <td>
            {{ cacheData[d].HitCount }}
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td>{{ '#LDS#Total' | translate }}</td>
          <td>{{ totalEntries }}</td>
          <td>{{ totalHits }}</td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div class="imx-button-bar-transparent">
    <button mat-stroked-button class="justify-start" data-imx-identifier="admin-cache-reload" (click)="reload()">
      <eui-icon icon="refresh"></eui-icon> {{ LdsReload | translate }}
    </button>

    <button mat-stroked-button color="warn" data-imx-identifier="admin-cache-flush-all" (click)="flushall()">
      <eui-icon icon="delete"></eui-icon> {{ LdsFlushAll | translate }}
    </button>

    <button mat-flat-button color="primary" data-imx-identifier="admin-cache-switch" (click)="switchall()">
      {{ GetLdsSwitchText() | translate }}
    </button>
  </div>
</ng-container>
