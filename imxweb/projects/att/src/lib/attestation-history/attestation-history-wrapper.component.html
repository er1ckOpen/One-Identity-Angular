<imx-attestation-history
  (selectionChanged)="onSelectionChanged($event)"
  [title]="'#LDS#Heading Attestation History' | translate"
  #attestationHistoryComponent
></imx-attestation-history>
<div class="imx-button-bar-transparent">
  <ng-container *ngIf="!!dataSource">
    <imx-data-view-selection [dataSource]="dataSource" class="justify-start"></imx-data-view-selection>
  </ng-container>
  <button
    mat-stroked-button
    data-imx-identifier="attestation-history-button-actions"
    title="{{ '#LDS#Actions' | translate }}"
    [matMenuTriggerFor]="actionsMenu"
    [disabled]="!canPerformActions"
  >
    <eui-icon icon="ellipsisvertical"></eui-icon>
    {{ '#LDS#Actions' | translate }}
  </button>
  <mat-menu yPosition="above" xPosition="before" data-imx-identifier="attestation-history-actions-menu" #actionsMenu="matMenu">
    <button
      *ngIf="canRecallDecision"
      mat-menu-item
      data-imx-identifier="attestation-history-recall-decision"
      (click)="attestationAction.recallDecision(selectedCases)"
    >
      {{ '#LDS#Undo approval decision' | translate }}
    </button>
    <button
      *ngIf="canWithdrawDelegation"
      mat-menu-item
      data-imx-identifier="attestation-history-withdraw-delegation"
      (click)="attestationAction.revokeAdditional(selectedCases)"
    >
      {{ '#LDS#Withdraw additional attestor' | translate }}
    </button>
  </mat-menu>
</div>
